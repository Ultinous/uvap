<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Detection Filtering · UVAP</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Detection Filtering"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Detection Filtering · UVAP"/><meta property="og:type" content="website"/><meta property="og:url" content="http://docs.ultinous.com/uvap/../../../index.html"/><meta property="og:description" content="# Detection Filtering"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="../../../img/face-200.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="../../../css/code-block-buttons.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="../../../js/code-block-copy-button.js"></script><script type="text/javascript" src="../../../js/code-block-download-button.js"></script><script src="../../../js/scrollSpy.js"></script><link rel="stylesheet" href="../../../css/main.css"/><script src="../../../js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="../../../"><img class="logo" src="../../../img/ultinous-logo-BW-logo.png" alt="UVAP"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="../../../docs/feat/feat_overview.html" target="_self">Key Features</a></li><li class=""><a href="../../../docs/demo/demo_overview.html" target="_self">Feature Demos</a></li><li class=""><a href="../../../docs/install/uvap_install_sysreq.html" target="_self">Installation</a></li><li class=""><a href="../../../docs/dev/uvap_architect.html" target="_self">Developer Guide</a></li><li class=""><a href="../../../docs/tutorials/uvap_example_analysis.html" target="_self">Tutorials</a></li><li class=""><a href="../../../docs/help/uvap_support.html" target="_self">Help</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Person Detection</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Key Features<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="../../../docs/feat/feat_overview.html">Features Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Person Detection</h4><ul><li class="navListItem"><a class="navItem" href="../../../docs/feat/detect_person/feat_head_det.html">Head Detection</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/detect_person/feat_anonym.html">Anonymization</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/detect_person/feat_head_pose.html">3D Head Pose Detection</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/detect_person/feat_skeleton.html">Skeleton Detection</a></li><li class="navListItem navListItemActive"><a class="navItem" href="../../../docs/feat/other/feat_det_filter.html">Detection Filtering</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Movement Detection</h4><ul><li class="navListItem"><a class="navItem" href="../../../docs/feat/detect_movement/feat_track.html">Tracking</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/detect_movement/feat_pass_det.html">Pass Detection</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Facial Properties and Recognition</h4><ul><li class="navListItem"><a class="navItem" href="../../../docs/feat/face_prop/feat_gender.html">Gender Detection</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/face_prop/feat_age.html">Age Detection</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/face_prop/feat_face_mask.html">Face Mask Detection</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/face_prop/feat_feature_vector.html">Facial Feature Vector Extraction</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/face_prop/feat_fv_clustering.html">Feature Vector Clustering</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/face_prop/feat_reid.html">Reidentification</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Configuration</h4><ul><li class="navListItem"><a class="navItem" href="../../../docs/feat/other/feat_stream_config.html">Stream Configuration</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Image and Video</h4><ul><li class="navListItem"><a class="navItem" href="../../../docs/feat/other/feat_frame_info.html">Frame Info</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/other/feat_resize_crop.html">Resizing and Cropping Images</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/other/feat_show_image.html">Image Streaming</a></li><li class="navListItem"><a class="navItem" href="../../../docs/feat/other/feat_video_annotation.html">Video Annotation</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="detection-filtering"></a><a href="#detection-filtering" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Detection Filtering</h1>
<p>The <em>Detection Filtering</em> feature makes it possible to filter the output of
<a href="../../../docs/feat/detect_person/feat_head_det.html">Head Detection</a>, based on a number of criteria.</p>
<p><em>Detection Filtering</em>
can be performed at different stages of the analysis. The criteria of filtering
can also be different at the different stages. UVAP supports the filtering
at the following stages and by the criteria listed for each stage:</p>
<h3><a class="anchor" aria-hidden="true" id="detection-filtering-in-multi-graph-runner"></a><a href="#detection-filtering-in-multi-graph-runner" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Detection filtering in <a href="../../../docs/dev/ms_mgr.html">Multi-Graph Runner</a>:</h3>
<p>The main purpose of this filtering is <strong>optimization</strong>: it helps optimize
the quality or performance of other core detectors in <a href="../../../docs/dev/ms_mgr.html">Multi-Graph Runner</a>,
such as demography or face feature extraction. It may also be used
for functional filtering but <a href="../../../docs/dev/ms_det_filter.html">Detection Filter</a> below is recommended
for that purpose, as it offers a configuration tool as well.
The filtering criteria are</p>
<ul>
<li>Detection confidence: OBJ_FILTER process node</li>
<li>Head size: OBJ_FILTER process node</li>
<li>Region of Interest (ROI): POLY_ROI_FILTER process node</li>
<li>Head Pose: HEAD_POSE_FILTER process node</li>
</ul>
<p>For more information on the configuration of these nodes, see
the <a href="../../../proto_files/ultinous/proto/dataflow/dataflow_pub.proto.html">MGR configuration format proto file</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="detection-filtering-by-the-detection-filter-microservice"></a><a href="#detection-filtering-by-the-detection-filter-microservice" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Detection filtering by the <a href="../../../docs/dev/ms_det_filter.html">Detection Filter</a> microservice:</h3>
<p>The purpose of this filtering is <strong>functional</strong>: it can restrict the detections
according to the functional requirements of the application.
The filtering criteria are</p>
<ul>
<li>Detection confidence</li>
<li>Region of Interest (ROI)</li>
</ul>
<p>A <em>Detection Filter</em> is made up of a single or multiple areas defined by polygons.
Each polygon can be positive or negative, meaning detections in the polygon are
included or excluded by the filter. This allows for precise and versatile
filtering. If no positive areas are set, the whole screen is the searched area.</p>
<p>Polygons can be configured manually or drawn in the <a href="../../../docs/dev/conf_sc_ui.html">Stream Configuration UI</a>
for easier configuration.</p>
<p>For each Detection Filter a confidence level can be defined, providing another
layer of filtering options.</p>
<p>Each Detection Filter runs in a separate microservice. If multiple filters are
needed, additional microservice instances are required.</p>
<p>When Detection Filtering is enabled, only detections that fall into the
specified area and reach the set confidence level, are recorded.</p>
<p>For more information, see <a href="../../../docs/dev/ms_det_filter.html">Detection Filter</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="../../../docs/feat/detect_person/feat_skeleton.html"><span class="arrow-prev">← </span><span>Skeleton Detection</span></a><a class="docs-next button" href="../../../docs/feat/detect_movement/feat_track.html"><span>Tracking</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="../../../" class="nav-home"></a><div class="help"><h5>Help</h5><a href="docs/assets/UVAP_License_Terms.pdf">UVAP License Terms</a><a href="../../../docs/help/uvap_gloss.html">Glossary</a><a href="../../../docs/help/uvap_notations.html">Typographic Conventions</a><a href="../../../docs/help/uvap_tm.html">Trademark Information</a><a href="../../../docs/help/uvap_support.html">Support</a></div><div class="nav"><h5>Navigation</h5><a href="../../../docs/feat/feat_overview.html">Key Features</a><a href="../../../docs/demo/demo_overview.html">Feature Demos</a><a href="../../../docs/install/uvap_install_sysreq.html">Installation</a><a href="../../../docs/dev/uvap_architect.html">Developer Guide</a><a href="../../../docs/tutorials/uvap_example_analysis.html">Tutorials</a><a href="../../../help.html">Help</a></div><div class="comm"><h5>Community</h5><a href="https://github.com/Ultinous/uvap" target="_blank">GitHub</a><a href="https://www.facebook.com/ultinousltd/" target="_blank">Facebook</a><a href="https://www.linkedin.com/company/6380970/" target="_blank">LinkedIn</a><a href="https://twitter.com/ultinousltd" target="_blank">Twitter</a><a href="https://www.youtube.com/channel/UCeQmAy_RLLhgcTxSCFljBDA" target="_blank">YouTube</a></div></section><a href="https://www.ultinous.com" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="../../../img/Ultinous-logo_white_web.png" alt="Ultinous"/></a><section class="copyright">Copyright © 2019-2020 Ultinous</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '537f90d4167048c6fde59df438687767',
                indexName: 'uvap',
                inputSelector: '#search_input_react'
              });
            </script></body></html>